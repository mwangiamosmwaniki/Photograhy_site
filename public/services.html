<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />

    <!-- SEO Meta Tags -->
    <title>Photography Services & Pricing | Jr Photography</title>
    <meta
      name="description"
      content="Explore professional photography services and pricing from Jr Photography. Wedding, portrait, event, and commercial packages tailored to your needs."
    />
    <meta
      name="keywords"
      content="photography services, wedding photography pricing, portrait photography packages, event photography Kenya"
    />
    <meta name="author" content="Jr Photography" />

    <!-- Open Graph -->
    <meta
      property="og:title"
      content="Photography Services & Pricing | Jr Photography"
    />
    <meta
      property="og:description"
      content="Transparent photography packages for weddings, portraits, events, and commercial shoots."
    />
    <meta
      property="og:image"
      content="https://photography-site-8pct.onrender.com/images/hero.jpg"
    />
    <meta property="og:type" content="website" />
    <meta
      property="og:url"
      content="https://photography-site-8pct.onrender.com/services.html"
    />

    <!-- Twitter Card -->
    <meta name="twitter:card" content="summary_large_image" />
    <meta
      name="twitter:title"
      content="Photography Services & Pricing | Jr Photography"
    />
    <meta
      name="twitter:description"
      content="Browse photography packages and pricing for weddings, portraits, and events."
    />
    <meta
      name="twitter:image"
      content="https://photography-site-8pct.onrender.com/images/hero.jpg"
    />

    <link
      rel="canonical"
      href="https://photography-site-8pct.onrender.com/services.html"
    />

    <link rel="stylesheet" href="css/styles.css" />
    <link rel="icon" type="image/png" href="/images/icon.png" />

    <script type="application/ld+json">
      {
        "@context": "https://schema.org",
        "@type": "Service",
        "provider": {
          "@type": "ProfessionalService",
          "name": "Jr Photography",
          "url": "https://photography-site-8pct.onrender.com"
        },
        "areaServed": {
          "@type": "Country",
          "name": "Kenya"
        },
        "serviceType": "Photography Services",
        "offers": {
          "@type": "Offer",
          "priceCurrency": "KES"
        }
      }
    </script>

    <script src="https://cdn.jsdelivr.net/npm/@tailwindcss/browser@4"></script>
  </head>

  <body>
    <header>
      <a href="index.html" class="logo">
        <img src="images/icon.png" alt="JR Pixels Logo" />
      </a>
      <button class="nav-toggle" id="nav-toggle" aria-label="Toggle navigation">
        <div class="bar"></div>
        <div class="bar"></div>
        <div class="bar"></div>
      </button>

      <nav class="nav-menu" id="nav-menu">
        <ul class="nav-links">
          <li><a href="index.html">Home</a></li>
          <li><a href="portfolio.html">Portfolio</a></li>
          <li><a href="services.html">Services</a></li>
          <li><a href="about.html">About</a></li>
          <li><a href="contact.html">Contact</a></li>
          <li>
            <a
              href="booking.html"
              class="inline-block border-2 border-yellow-500 !text-yellow-500 font-semibold rounded-lg !px-4 !py-2 hover:!bg-yellow-500 hover:!text-white transition-colors duration-300"
            >
              Book Now
            </a>
          </li>
        </ul>
      </nav>
    </header>

    <main class="bg-gray-100">
      <section id="pricing">
        <h1 style="text-align: center">Photography Packages</h1>
        <p style="text-align: center; max-width: 800px; margin: 0 auto 50px">
          From quick headshots to full-day wedding coverage, find the perfect
          fit for your needs. All packages include high-resolution digital
          files.
        </p>

        <div id="loading" style="text-align: center; padding: 40px">
          <p>Loading packages...</p>
        </div>

        <div class="pricing-grid" id="pricingGrid" style="display: none">
          <!-- Pricing cards will be inserted here dynamically -->
        </div>

        <div
          id="error"
          style="
            display: none;
            text-align: center;
            padding: 40px;
            color: #e74c3c;
          "
        >
          <p>Unable to load pricing packages. Please try again later.</p>
        </div>

        <p style="text-align: center; margin-top: 50px">
          *For custom wedding or commercial quotes, please use the
          <a href="contact.html">contact form</a>.
        </p>
      </section>
    </main>

    <footer>
      <p>&copy; 2025 Jr Photography. All rights reserved.</p>
    </footer>

    <script>
      // Fetch pricing packages from MongoDB via Node backend
      async function loadPricingPackages() {
        const loadingEl = document.getElementById("loading");
        const gridEl = document.getElementById("pricingGrid");
        const errorEl = document.getElementById("error");

        try {
          // Fetch packages from your backend API
          const response = await fetch("/api/packages");

          if (!response.ok) {
            throw new Error("Failed to fetch packages");
          }

          const packages = await response.json();

          // Hide loading, show grid
          loadingEl.style.display = "none";
          gridEl.style.display = "grid";

          // Clear any existing content
          gridEl.innerHTML = "";

          // Render each package
          packages.forEach((pkg) => {
            const card = createPricingCard(pkg);
            gridEl.appendChild(card);
          });
        } catch (error) {
          console.error("Error loading packages:", error);
          loadingEl.style.display = "none";
          errorEl.style.display = "block";
        }
      }

      // Create a pricing card element
      function createPricingCard(pkg) {
        const card = document.createElement("div");
        card.className = "pricing-card";

        // Format price with thousand separators
        const formattedPrice = pkg.price.toLocaleString("en-KE");

        // Build features list
        const featuresList = pkg.features
          .map((feature) => {
            const strikethrough = feature.strikethrough
              ? ' style="text-decoration: line-through"'
              : "";
            return `<li${strikethrough}>${feature.text}</li>`;
          })
          .join("");

        card.innerHTML = `
          <h3>${pkg.name}</h3>
          <p class="price">Ksh ${formattedPrice}</p>
          <p>${pkg.description}</p>
          <ul class="features">
            ${featuresList}
          </ul>
          <a href="booking.html?package=${encodeURIComponent(
            pkg.name
          )}" class="btn">Book Now</a>
        `;

        return card;
      }

      // Load packages when page loads
      document.addEventListener("DOMContentLoaded", loadPricingPackages);
    </script>
    <script src="js/script.js"></script>
  </body>
</html>
